{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Francisco%20Ifurung/Desktop/task-management-dashboard/src/lib/db.ts"],"sourcesContent":["import { Pool } from \"pg\";\r\n\r\ndeclare global {\r\n  // allow attaching pgPool to globalThis in Node and browsers during dev\r\n  // eslint-disable-next-line no-var\r\n  var pgPool: Pool | undefined;\r\n}\r\n\r\nlet pool: Pool;\r\n\r\nif (!globalThis.pgPool) {\r\n  globalThis.pgPool = new Pool({\r\n    connectionString: process.env.DATABASE_URL,\r\n    ssl: {\r\n      rejectUnauthorized: false,\r\n    },\r\n  });\r\n}\r\n\r\npool = globalThis.pgPool!;\r\n\r\nexport default pool;\r\n"],"names":[],"mappings":";;;AAAA;;;;;;AAQA,IAAI;AAEJ,IAAI,CAAC,WAAW,MAAM,EAAE;IACtB,WAAW,MAAM,GAAG,IAAI,oGAAA,CAAA,OAAI,CAAC;QAC3B,kBAAkB,QAAQ,GAAG,CAAC,YAAY;QAC1C,KAAK;YACH,oBAAoB;QACtB;IACF;AACF;AAEA,OAAO,WAAW,MAAM;uCAET","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Francisco%20Ifurung/Desktop/task-management-dashboard/src/pages/api/editTask.ts"],"sourcesContent":["import pool from \"@/lib/db\";\r\nimport { NextApiRequest, NextApiResponse } from \"next\";\r\n\r\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\r\n  try {\r\n    const {\r\n        id,\r\n        title,\r\n        description,\r\n        dueDate,\r\n        status,\r\n        priority,\r\n        tags,\r\n        assigneeId, // include from frontend payload\r\n    } = req.body;\r\n\r\n    // Treat as UTC midnight (remove 8hrs delay)\r\n    const utcDate = new Date(dueDate);\r\n\r\n    await pool.query(\r\n        `UPDATE \"Task\" \r\n            SET \r\n            title = $2,\r\n            description = $3,\r\n            \"dueDate\" = $4,\r\n            status = $5,\r\n            priority = $6,\r\n            tags = $7,\r\n            \"assigneeId\" = $8,\r\n            \"updatedAt\" = NOW()\r\n            WHERE id = $1`,\r\n        [id, title, description, utcDate, status, priority, tags, assigneeId]\r\n    );\r\n\r\n    return res.status(200).json({ message: \"Successfully updated task\" });\r\n  } catch (err) {\r\n    console.error(`Error updating task: ${err}`);\r\n    return res.status(500).json({ error: \"Internal server error\" });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAAA;;;;;;AAGe,eAAe,QAAQ,GAAmB,EAAE,GAAoB;IAC7E,IAAI;QACF,MAAM,EACF,EAAE,EACF,KAAK,EACL,WAAW,EACX,OAAO,EACP,MAAM,EACN,QAAQ,EACR,IAAI,EACJ,UAAU,EACb,GAAG,IAAI,IAAI;QAEZ,4CAA4C;QAC5C,MAAM,UAAU,IAAI,KAAK;QAEzB,MAAM,yGAAA,CAAA,UAAI,CAAC,KAAK,CACZ,CAAC;;;;;;;;;;yBAUgB,CAAC,EAClB;YAAC;YAAI;YAAO;YAAa;YAAS;YAAQ;YAAU;YAAM;SAAW;QAGzE,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,SAAS;QAA4B;IACrE,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,CAAC,qBAAqB,EAAE,KAAK;QAC3C,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO;QAAwB;IAC/D;AACF","debugId":null}}]
}