{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Francisco%20Ifurung/Desktop/to-do-app/src/lib/db.ts"],"sourcesContent":["import { Pool } from \"pg\";\r\n\r\nconst pool = new Pool({\r\n    connectionString: process.env.DATABASE_URL,\r\n})\r\n\r\nexport default pool"],"names":[],"mappings":";;;AAAA;;;;;;AAEA,MAAM,OAAO,IAAI,oGAAA,CAAA,OAAI,CAAC;IAClB,kBAAkB,QAAQ,GAAG,CAAC,YAAY;AAC9C;uCAEe","debugId":null}},
    {"offset": {"line": 53, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Francisco%20Ifurung/Desktop/to-do-app/src/pages/api/addTask.ts"],"sourcesContent":["// Next.js API route support: https://nextjs.org/docs/api-routes/introduction\nimport pool from \"@/lib/db\";\nimport type { NextApiRequest, NextApiResponse } from \"next\";\n\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\n  try {\n    if(req.method === 'POST') {\n      const { name, time } = req.body;\n\n      if (!name || !time) {\n        return res.status(400).json({ error: 'Name and time are required' })\n      }\n\n      await pool.query('INSERT INTO tasks (name, time) VALUES ($1, $2)', [\n        name,\n        time\n      ])\n      return res.status(200).json({ message: 'Task added' })\n      \n    }\n    const result = await pool.query(\"SELECT * FROM tasks ORDER BY id DESC\");\n    res.status(200).json(result.rows)\n  } catch(err) {\n    console.error(err);\n    res.status(500).json({ error: `Failed to connect to database`})\n  }\n}\n"],"names":[],"mappings":"AAAA,6EAA6E;;;;AAC7E;;;;;;AAGe,eAAe,QAAQ,GAAmB,EAAE,GAAoB;IAC7E,IAAI;QACF,IAAG,IAAI,MAAM,KAAK,QAAQ;YACxB,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,IAAI,IAAI;YAE/B,IAAI,CAAC,QAAQ,CAAC,MAAM;gBAClB,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;oBAAE,OAAO;gBAA6B;YACpE;YAEA,MAAM,yGAAA,CAAA,UAAI,CAAC,KAAK,CAAC,kDAAkD;gBACjE;gBACA;aACD;YACD,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBAAE,SAAS;YAAa;QAEtD;QACA,MAAM,SAAS,MAAM,yGAAA,CAAA,UAAI,CAAC,KAAK,CAAC;QAChC,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC,OAAO,IAAI;IAClC,EAAE,OAAM,KAAK;QACX,QAAQ,KAAK,CAAC;QACd,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO,CAAC,6BAA6B,CAAC;QAAA;IAC/D;AACF","debugId":null}}]
}