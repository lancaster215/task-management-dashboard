{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Francisco%20Ifurung/Desktop/task-management-dashboard/src/lib/db.ts"],"sourcesContent":["import { Pool } from \"pg\";\r\n\r\ndeclare global {\r\n  // allow attaching pgPool to globalThis in Node and browsers during dev\r\n  // eslint-disable-next-line no-var\r\n  var pgPool: Pool | undefined;\r\n}\r\n\r\nlet pool: Pool;\r\n\r\nif (!globalThis.pgPool) {\r\n  globalThis.pgPool = new Pool({\r\n    connectionString: process.env.DATABASE_URL,\r\n    ssl: {\r\n      rejectUnauthorized: false,\r\n    },\r\n  });\r\n}\r\n\r\npool = globalThis.pgPool!;\r\n\r\nexport default pool;\r\n"],"names":[],"mappings":";;;AAAA;;;;;;AAQA,IAAI;AAEJ,IAAI,CAAC,WAAW,MAAM,EAAE;IACtB,WAAW,MAAM,GAAG,IAAI,oGAAA,CAAA,OAAI,CAAC;QAC3B,kBAAkB,QAAQ,GAAG,CAAC,YAAY;QAC1C,KAAK;YACH,oBAAoB;QACtB;IACF;AACF;AAEA,OAAO,WAAW,MAAM;uCAET","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Francisco%20Ifurung/Desktop/task-management-dashboard/src/pages/api/removeTask.ts"],"sourcesContent":["import pool from \"@/lib/db\";\r\nimport type { NextApiRequest, NextApiResponse } from \"next\";\r\n\r\nexport default async function handler(req: NextApiRequest, res: NextApiResponse){\r\n    try {\r\n        if(req.method === 'POST') {\r\n            const { selected } = req.body;\r\n            console.log(selected, 'delete id')\r\n            if (!Array.isArray(selected) || selected.length === 0) {\r\n                return res.status(400).json({ error: \"Request body must contain a non-empty array of IDs.\" });\r\n            }\r\n\r\n            const placeholders = selected.map((_, index) => `$${index + 1}`).join(\", \");\r\n            const query = `DELETE FROM \"Task\" WHERE id IN (${placeholders})`;\r\n            await pool.query(query, selected)\r\n\r\n            return res.status(200).json({ message: 'Successfully removed selected task/s'})    \r\n        }\r\n    } catch (err) {\r\n        console.error(`Error in deleteing task: ${err}`)\r\n    }\r\n}"],"names":[],"mappings":";;;AAAA;;;;;;AAGe,eAAe,QAAQ,GAAmB,EAAE,GAAoB;IAC3E,IAAI;QACA,IAAG,IAAI,MAAM,KAAK,QAAQ;YACtB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,IAAI;YAC7B,QAAQ,GAAG,CAAC,UAAU;YACtB,IAAI,CAAC,MAAM,OAAO,CAAC,aAAa,SAAS,MAAM,KAAK,GAAG;gBACnD,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;oBAAE,OAAO;gBAAsD;YAC/F;YAEA,MAAM,eAAe,SAAS,GAAG,CAAC,CAAC,GAAG,QAAU,CAAC,CAAC,EAAE,QAAQ,GAAG,EAAE,IAAI,CAAC;YACtE,MAAM,QAAQ,CAAC,gCAAgC,EAAE,aAAa,CAAC,CAAC;YAChE,MAAM,yGAAA,CAAA,UAAI,CAAC,KAAK,CAAC,OAAO;YAExB,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBAAE,SAAS;YAAsC;QACjF;IACJ,EAAE,OAAO,KAAK;QACV,QAAQ,KAAK,CAAC,CAAC,yBAAyB,EAAE,KAAK;IACnD;AACJ","debugId":null}}]
}