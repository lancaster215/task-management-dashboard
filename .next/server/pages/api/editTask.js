"use strict";(()=>{var a={};a.id=992,a.ids=[992],a.modules={1044:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{config:()=>o,default:()=>n,handler:()=>m});var e=c(9046),f=c(8667),g=c(3480),h=c(6435),i=c(8754),j=c(8112),k=c(8766),l=a([i]);i=(l.then?(await l)():l)[0];let n=(0,h.M)(i,"default"),o=(0,h.M)(i,"config"),p=new g.PagesAPIRouteModule({definition:{kind:f.A.PAGES_API,page:"/api/editTask",pathname:"/api/editTask",bundlePath:"",filename:""},userland:i,distDir:".next",projectDir:""});async function m(a,b,c){let d=await p.prepare(a,b,{srcPage:"/api/editTask"});if(!d){b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve());return}let{query:f,params:g,prerenderManifest:h}=d;try{let c=a.method||"GET",d=(0,j.getTracer)(),e=d.getActiveScopeSpan(),i=p.instrumentationOnRequestError.bind(p),l=async e=>p.render(a,b,{query:{...f,...g},params:g,allowedRevalidateHeaderKeys:void 0,multiZoneDraftMode:!0,trustHostHeader:void 0,previewProps:h.preview,propagateError:!1,dev:p.isDev,page:"/api/editTask",projectDir:"",onError:(...b)=>i(a,...b)}).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let f=d.getRootSpanAttributes();if(!f)return;if(f.get("next.span_type")!==k.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${f.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let g=f.get("next.route");if(g){let a=`${c} ${g}`;e.setAttributes({"next.route":g,"http.route":g,"next.span_name":a}),e.updateName(a)}else e.updateName(`${c} ${a.url}`)});e?await l(e):await d.withPropagatedContext(a.headers,()=>d.trace(k.BaseServerSpan.handleRequest,{spanName:`${c} ${a.url}`,kind:j.SpanKind.SERVER,attributes:{"http.method":c,"http.target":a.url}},l))}catch(a){if(p.isDev)throw a;(0,e.sendError)(b,500,"Internal Server Error")}finally{null==c.waitUntil||c.waitUntil.call(c,Promise.resolve())}}d()}catch(a){d(a)}})},4823:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{A:()=>g});var e=c(4939),f=a([e]);e=(f.then?(await f)():f)[0],globalThis.pgPool||(globalThis.pgPool=new e.Pool({connectionString:process.env.DATABASE_URL,ssl:{rejectUnauthorized:!1}}));let g=globalThis.pgPool;d()}catch(a){d(a)}})},4939:a=>{a.exports=import("pg")},5600:a=>{a.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},8754:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>j});var e=c(4823),f=a([e]);function g(a){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function h(){h=function(){return b};var a,b={},c=Object.prototype,d=c.hasOwnProperty,e=Object.defineProperty||function(a,b,c){a[b]=c.value},f="function"==typeof Symbol?Symbol:{},i=f.iterator||"@@iterator",j=f.asyncIterator||"@@asyncIterator",k=f.toStringTag||"@@toStringTag";function l(a,b,c){return Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}),a[b]}try{l({},"")}catch(a){l=function(a,b,c){return a[b]=c}}function m(b,c,d,f){var g,h,i,j,k=c&&c.prototype instanceof s?c:s,l=Object.create(k.prototype),m=new D(f||[]);return e(l,"_invoke",{value:(g=b,h=d,i=m,j=o,function(b,c){if(j===p)throw Error("Generator is already running");if(j===q){if("throw"===b)throw c;return{value:a,done:!0}}for(i.method=b,i.arg=c;;){var d=i.delegate;if(d){var e=function b(c,d){var e=d.method,f=c.iterator[e];if(f===a)return d.delegate=null,"throw"===e&&c.iterator.return&&(d.method="return",d.arg=a,b(c,d),"throw"===d.method)||"return"!==e&&(d.method="throw",d.arg=TypeError("The iterator does not provide a '"+e+"' method")),r;var g=n(f,c.iterator,d.arg);if("throw"===g.type)return d.method="throw",d.arg=g.arg,d.delegate=null,r;var h=g.arg;return h?h.done?(d[c.resultName]=h.value,d.next=c.nextLoc,"return"!==d.method&&(d.method="next",d.arg=a),d.delegate=null,r):h:(d.method="throw",d.arg=TypeError("iterator result is not an object"),d.delegate=null,r)}(d,i);if(e){if(e===r)continue;return e}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(j===o)throw j=q,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);j=p;var f=n(g,h,i);if("normal"===f.type){if(j=i.done?q:"suspendedYield",f.arg===r)continue;return{value:f.arg,done:i.done}}"throw"===f.type&&(j=q,i.method="throw",i.arg=f.arg)}})}),l}function n(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}b.wrap=m;var o="suspendedStart",p="executing",q="completed",r={};function s(){}function t(){}function u(){}var v={};l(v,i,function(){return this});var w=Object.getPrototypeOf,x=w&&w(w(E([])));x&&x!==c&&d.call(x,i)&&(v=x);var y=u.prototype=s.prototype=Object.create(v);function z(a){["next","throw","return"].forEach(function(b){l(a,b,function(a){return this._invoke(b,a)})})}function A(a,b){var c;e(this,"_invoke",{value:function(e,f){function h(){return new b(function(c,h){!function c(e,f,h,i){var j=n(a[e],a,f);if("throw"!==j.type){var k=j.arg,l=k.value;return l&&"object"==g(l)&&d.call(l,"__await")?b.resolve(l.__await).then(function(a){c("next",a,h,i)},function(a){c("throw",a,h,i)}):b.resolve(l).then(function(a){k.value=a,h(k)},function(a){return c("throw",a,h,i)})}i(j.arg)}(e,f,c,h)})}return c=c?c.then(h,h):h()}})}function B(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]),2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]),this.tryEntries.push(b)}function C(a){var b=a.completion||{};b.type="normal",delete b.arg,a.completion=b}function D(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(B,this),this.reset(!0)}function E(b){if(b||""===b){var c=b[i];if(c)return c.call(b);if("function"==typeof b.next)return b;if(!isNaN(b.length)){var e=-1,f=function c(){for(;++e<b.length;)if(d.call(b,e))return c.value=b[e],c.done=!1,c;return c.value=a,c.done=!0,c};return f.next=f}}throw TypeError(g(b)+" is not iterable")}return t.prototype=u,e(y,"constructor",{value:u,configurable:!0}),e(u,"constructor",{value:t,configurable:!0}),t.displayName=l(u,k,"GeneratorFunction"),b.isGeneratorFunction=function(a){var b="function"==typeof a&&a.constructor;return!!b&&(b===t||"GeneratorFunction"===(b.displayName||b.name))},b.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,u):(a.__proto__=u,l(a,k,"GeneratorFunction")),a.prototype=Object.create(y),a},b.awrap=function(a){return{__await:a}},z(A.prototype),l(A.prototype,j,function(){return this}),b.AsyncIterator=A,b.async=function(a,c,d,e,f){void 0===f&&(f=Promise);var g=new A(m(a,c,d,e),f);return b.isGeneratorFunction(c)?g:g.next().then(function(a){return a.done?a.value:g.next()})},z(y),l(y,k,"Generator"),l(y,i,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),b.keys=function(a){var b=Object(a),c=[];for(var d in b)c.push(d);return c.reverse(),function a(){for(;c.length;){var d=c.pop();if(d in b)return a.value=d,a.done=!1,a}return a.done=!0,a}},b.values=E,D.prototype={constructor:D,reset:function(b){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(C),!b)for(var c in this)"t"===c.charAt(0)&&d.call(this,c)&&!isNaN(+c.slice(1))&&(this[c]=a)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(b){if(this.done)throw b;var c=this;function e(d,e){return h.type="throw",h.arg=b,c.next=d,e&&(c.method="next",c.arg=a),!!e}for(var f=this.tryEntries.length-1;f>=0;--f){var g=this.tryEntries[f],h=g.completion;if("root"===g.tryLoc)return e("end");if(g.tryLoc<=this.prev){var i=d.call(g,"catchLoc"),j=d.call(g,"finallyLoc");if(i&&j){if(this.prev<g.catchLoc)return e(g.catchLoc,!0);if(this.prev<g.finallyLoc)return e(g.finallyLoc)}else if(i){if(this.prev<g.catchLoc)return e(g.catchLoc,!0)}else{if(!j)throw Error("try statement without catch or finally");if(this.prev<g.finallyLoc)return e(g.finallyLoc)}}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;c>=0;--c){var e=this.tryEntries[c];if(e.tryLoc<=this.prev&&d.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var f=e;break}}f&&("break"===a||"continue"===a)&&f.tryLoc<=b&&b<=f.finallyLoc&&(f=null);var g=f?f.completion:{};return g.type=a,g.arg=b,f?(this.method="next",this.next=f.finallyLoc,r):this.complete(g)},complete:function(a,b){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b),r},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),C(c),r}},catch:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if("throw"===d.type){var e=d.arg;C(c)}return e}}throw Error("illegal catch attempt")},delegateYield:function(b,c,d){return this.delegate={iterator:E(b),resultName:c,nextLoc:d},"next"===this.method&&(this.arg=a),r}},b}function i(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function j(a,b){return k.apply(this,arguments)}function k(){var a;return a=h().mark(function a(b,c){var d,f,g,i,j,k,l,m,n,o,p;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,f=(d=b.body).id,g=d.title,i=d.description,j=d.dueDate,k=d.status,l=d.priority,m=d.tags,n=d.assigneeId,o=new Date(j),a.next=1,e.A.query('UPDATE "Task" \n            SET \n            title = $2,\n            description = $3,\n            "dueDate" = $4,\n            status = $5,\n            priority = $6,\n            tags = $7,\n            "assigneeId" = $8,\n            "updatedAt" = NOW()\n            WHERE id = $1',[f,g,i,o,k,l,m,n]);case 1:return a.abrupt("return",c.status(200).json({message:"Successfully updated task"}));case 2:return a.prev=2,p=a.catch(0),console.error("Error updating task: ".concat(p)),a.abrupt("return",c.status(500).json({error:"Internal server error"}));case 3:case"end":return a.stop()}},a,null,[[0,2]])}),(k=function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){i(f,d,e,g,h,"next",a)}function h(a){i(f,d,e,g,h,"throw",a)}g(void 0)})}).apply(this,arguments)}e=(f.then?(await f)():f)[0],d()}catch(a){d(a)}})}};var b=require("../../webpack-api-runtime.js");b.C(a);var c=b.X(0,[169],()=>b(b.s=1044));module.exports=c})();